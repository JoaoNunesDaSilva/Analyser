<UserControl x:Class="Analyser.SuiviMCO.View"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:local="clr-namespace:Analyser.SuiviMCO"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <StackPanel Orientation="Vertical">
        <GroupBox Header="Source Files">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120px"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                    <ColumnDefinition Width="90"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"></RowDefinition>
                    <RowDefinition Height="auto"></RowDefinition>
                </Grid.RowDefinitions>

                <Label Grid.Row="0" Grid.Column ="0" Width="120px">Lookup File</Label>
                <TextBox Grid.Row="0" Grid.Column ="1" Text="{Binding Path=LookupFile}" ></TextBox>
                <Button Grid.Row="0" Grid.Column ="2" 
                        Command="local:Commands.ChooseLookupFileSuiviMCO"
                        CommandManager.CanExecute="ChooseLookupFile_CanExecute" 
                        CommandManager.Executed="ChooseLookupFile_Executed">Load</Button>

                <Label Grid.Row="1" Grid.Column ="0" Width="120px">MCO File</Label>
                <TextBox Grid.Row="1" Grid.Column ="1" Text="{Binding Path=MCOFile}"></TextBox>
                <Button Grid.Row="1" Grid.Column ="2" 
                        Command="local:Commands.ChooseMCOFileSuiviMCO"
                        CommandManager.CanExecute="ChooseMCOFile_CanExecute" 
                        CommandManager.Executed="ChooseMCOFile_Executed">Load</Button>

            </Grid>
        </GroupBox>
        <GroupBox Header="Data File">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120px"></ColumnDefinition>
                    <ColumnDefinition Width="*"></ColumnDefinition>
                    <ColumnDefinition Width="90"></ColumnDefinition>
                    <ColumnDefinition Width="90"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"></RowDefinition>
                </Grid.RowDefinitions>

                <Label Grid.Row="0" Grid.Column ="0" Width="120px">Data File</Label>
                <TextBox Grid.Row="0" Grid.Column ="1" Text="{Binding Path=DataFile}"></TextBox>
                <Button Grid.Row="0" Grid.Column ="2" 
                        Command="local:Commands.ChooseDataFileSuiviMCO"
                        CommandManager.CanExecute="ChooseDataFile_CanExecute" 
                        CommandManager.Executed="ChooseDataFile_Executed">Load</Button>
                <Button Grid.Row="0" Grid.Column ="3" 
                        Command="local:Commands.SetDataFileSuiviMCO"
                        CommandManager.CanExecute="SetDataFile_CanExecute" 
                        CommandManager.Executed="SetDataFile_Executed">Save</Button>

            </Grid>
        </GroupBox>
        <GroupBox Header="Preview">
            <DataGrid ItemsSource="{Binding Source=MCOData}">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Nº Fiche" Binding="{Binding Path=NoFile}"/>
                    <DataGridTextColumn Header="Priorite" Binding="{Binding Path=Priorite}"/>
                    <DataGridTextColumn Header="Libelle" Binding="{Binding Path=Libelle}"/>
                    <DataGridTextColumn Header="Blocs Aplicatifs A Corriger" Binding="{Binding Path=BlocsAplicatifsACorriger}"/>
                    <DataGridTextColumn Header="Nature De La Maintenance" Binding="{Binding Path=NatureDeLaMaintenance}"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>
    </StackPanel>
</UserControl>
